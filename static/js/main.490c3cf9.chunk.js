(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{1962:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(66),r=a.n(c),s=(a(341),a(34)),i=a(33),o=a(42),u=a(50),l=a(11);function d(e){var t=e.todo,a=e.submit,c=Object(n.useState)({task:"",status:!1}),r=Object(s.a)(c,2),u=r[0],d=r[1];return Object(n.useEffect)((function(){d((function(e){return Object(o.a)(Object(o.a)({},e),{},{task:""})}))}),[t.length]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"rainbow-p-around_small",children:Object(l.jsxs)(i.Card,{className:"create-task-box",children:[Object(l.jsx)(i.Textarea,{id:"example-textarea-1",rows:1,placeholder:"Add Task",className:"rainbow-m-vertical_x-large rainbow-p-horizontal_medium rainbow-m_auto add-task-textarea",onChange:function(e){d((function(t){return Object(o.a)(Object(o.a)({},t),{},{task:e.target.value})}))},value:u.task}),Object(l.jsx)(i.Button,{shaded:!0,label:"Add Task",onClick:function(){return a(u)},variant:"brand",className:"rainbow-m-around_medium add-task-button"})]})})})}var b=a(67),j=a(68);function m(e){return e[0].toUpperCase()+e.substring(1)}function f(e){e=Number(e);var t=Math.floor(e/86400),a=Math.floor(e%86400/3600),n=Math.floor(e%3600/60),c=Math.floor(e%60);return(t>0?t+(1===t?" day, ":" days, "):"")+(a>0?a+(1===a?" hour, ":" hours, "):"")+(n>0?n+(1===n?" minute, ":" minutes, "):"")+(c>0?c+(1===c?" second":" seconds"):"0 seconds")}function O(e){var t=e.todo,a=e.num,c=e.deleteTask,r=e.editTask,o=e.markDone,u=e.currentTime,d=Object(n.useState)(m(t.task)),O=Object(s.a)(d,2),h=O[0],x=O[1],p=Object(n.useState)("none"),k=Object(s.a)(p,2),v=k[0],g=k[1],w=Object(n.useRef)("transparent"),N=Object(n.useRef)("Waiting..."),T=Object(n.useRef)(0);return Object(n.useEffect)((function(){x(m(t.task))}),[t.task]),Object(n.useEffect)((function(){t.deadline?N.current=Math.floor((t.deadline-u)/1e3):N.current="Waiting..."}),[t.deadline,u]),Object(n.useEffect)((function(){return t.status?void(w.current="green"):u>t.deadline&&t.deadline?void(w.current="red"):void(w.current="#4dc9cb")})),Object(n.useEffect)((function(){t.status?g("line-through"):g("none")}),[t.status]),Object(n.useEffect)((function(){var e=(100*(1-Math.floor((t.deadline-u)/1e3)/(Math.floor(t.deadline/1e3)-Math.floor(t.startTime/1e3)))).toFixed();e<=100?T.current=e:e>100?T.current=100:e<0&&(T.current=0)})),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"rainbow-m-around_medium",children:Object(l.jsxs)(i.Card,{style:{boxShadow:"0px 0px 7px ".concat(w.current)},children:[Object(l.jsxs)("div",{className:"rainbow-p-around_medium task-box-inner",children:[Object(l.jsxs)("span",{className:"task-name",children:[t.status?"":"".concat(a,". "),Object(l.jsx)("span",{style:{textDecoration:v},children:h})]}),Object(l.jsxs)("div",{className:"task-buttons",children:[Object(l.jsx)(i.ButtonIcon,{variant:"border-filled",disabled:t.status,onClick:function(){return o(t.id)},size:"medium",tooltip:"Mark Done",icon:Object(l.jsx)(b.a,{icon:j.a})}),Object(l.jsx)(i.ButtonIcon,{variant:"border-filled",disabled:t.status,onClick:function(){return r(t)},size:"medium",tooltip:"Edit",icon:Object(l.jsx)(b.a,{icon:j.b})}),Object(l.jsx)(i.ButtonIcon,{variant:"border-filled",onClick:function(){return c(t.id)},size:"medium",tooltip:"Delete",icon:Object(l.jsx)(b.a,{icon:j.c})})]})]}),t.deadline&&!t.status?Object(l.jsxs)("div",{className:"rainbow-p-around_x-small",children:[Object(l.jsx)("div",{className:"line"}),Object(l.jsxs)("div",{className:"rainbow-align-content_space-between rainbow-p-bottom_x-small",children:[Object(l.jsx)("span",{className:"rainbow-font-size-text_medium",children:N.current>0?"Time remains: ".concat(f(N.current)):"string"===typeof N.current?N.current:"Time is out"}),Object(l.jsx)("span",{"aria-hidden":"true",children:Object(l.jsxs)("strong",{className:"rainbow-font-size-text_small rainbow-color_brand",children:[T.current,"% of time has past"]})})]}),Object(l.jsx)(i.ProgressBar,{value:T.current,size:"small"})]}):null]})})})}function h(e){var t=e.todo,a=e.markDone,c=e.editTask,r=e.deleteTask,i=Object(n.useState)(Date.now()),o=Object(s.a)(i,2),d=o[0],b=o[1];Object(n.useEffect)((function(){var e;return d>=0&&(e=setInterval((function(){b(Date.now())}),1e3)),function(){return clearInterval(e)}}),[]);var j=Object(n.useCallback)((function(){var e=Object(u.a)(t);e.sort((function(e,t){return e.deadline?t.deadline?e.deadline-t.deadline:-1:1}));var a=e.filter((function(e){return e.status?e:null})),n=e.filter((function(e){return e.status?null:e}));return[].concat(Object(u.a)(n),Object(u.a)(a))}),[t]);return Object(l.jsx)("div",{children:function(){var e=1;return j().map((function(t){return Object(l.jsx)(O,{markDone:a,editTask:c,deleteTask:r,action:!0,num:e++,todo:t,currentTime:d},t.id)}))}()})}var x=a(334),p=a.n(x);function k(e){var t=e.todoToEdit,a=e.modalIsOpened,c=e.onModalClose,r=e.acceptChangedTodo,u=Object(n.useState)(t),d=Object(s.a)(u,2),m=d[0],f=d[1],O=Object(n.useState)(null),h=Object(s.a)(O,2),x=h[0],k=h[1],v=new Date;v.setMinutes((new Date).getMinutes()+10);var g=new Date;return g.setFullYear((new Date).getFullYear()+5),Object(l.jsxs)(i.Modal,{className:"modal-window",title:"Task",size:"medium",isOpen:a,onRequestClose:function(){return c()},children:[Object(l.jsx)("span",{className:"modal-task-name",children:Object(l.jsx)(p.a,{className:"name-changer",onChange:function(e){f(Object(o.a)(Object(o.a)({},m),{},{task:e.target.value}))},html:m.task,tagName:"article"})}),Object(l.jsxs)("div",{className:"modal-bottom",children:[Object(l.jsx)("div",{className:"date-picker",children:Object(l.jsx)(i.DateTimePicker,{value:t&&t.deadline?new Date(t.deadline):x,onClick:function(){return k(v)},formatStyle:"large",locale:"en-US",label:"Set deadline",onChange:function(e){+e<Date.now()?alert("Please try to set time that more than current"):f(Object(o.a)(Object(o.a)({},m),{},{startTime:Date.now(),deadline:+e}))},minDate:new Date,maxDate:g})}),Object(l.jsxs)(i.Button,{variant:"neutral",onClick:function(){m.task?r(m):alert("Name cannot be empty")},className:"rainbow-m-around_medium",children:["Accept changings",Object(l.jsx)(b.a,{icon:j.a,className:"rainbow-m-left_medium"})]})]})]})}function v(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),b=Object(s.a)(r,2),j=b[0],m=b[1],f=Object(n.useState)(),O=Object(s.a)(f,2),x=O[0],p=O[1];function v(){if(a.length){var e=a.map((function(e){return e.id}));return Math.max.apply(Math,Object(u.a)(e))+1}return 1}return Object(n.useEffect)((function(){c(JSON.parse(localStorage.getItem("todo")))}),[]),Object(n.useEffect)((function(){localStorage.setItem("todo",JSON.stringify(a))}),[a]),Object(l.jsxs)("div",{className:"todo-list",children:[Object(l.jsx)("div",{className:"rainbow-p-around_small",children:Object(l.jsx)(i.Card,{className:"create-task-box",children:Object(l.jsx)("h1",{children:"Task List"})})}),Object(l.jsx)(d,{todo:a,submit:function(e){if(e.task){var t;if(a.length){var n=a.map((function(e){return e.id}));t=Math.max.apply(Math,Object(u.a)(n))}else t=1;e.id=t+1,c([].concat(Object(u.a)(a),[Object(o.a)(Object(o.a)({},e),{},{id:v()})]))}}}),Object(l.jsx)(h,{todo:a,markDone:function(e){c(a.map((function(t){return t.id===e&&(t.deadline="",t.status=!t.status),t})))},editTask:function(e){p(e),m(!0)},deleteTask:function(e){var t=a.filter((function(t){return t.id!==e}));c(t)},action:!0}),j?Object(l.jsx)(k,{todoToEdit:x,modalIsOpened:j,onModalClose:function(){m(!1)},acceptChangedTodo:function(e){var t=a.filter((function(e){return e.id!==x.id}));c([].concat(Object(u.a)(t),[e])),m(!1)}}):null]})}var g={light:{rainbow:{palette:{brand:"#fa9a4c",success:"#f2707a",warning:"#F7DB62",error:"#f2707a"}}},dark:{rainbow:{palette:{mainBackground:"#212121",brand:"#4dc9cb",success:"#98D38C",warning:"#F7DB62",error:"#f2707a"}}}};var w=function(){var e=Object(n.useState)("dark"),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)("true"),o=Object(s.a)(r,2),u=o[0],d=o[1],b=Object(n.useState)("#212121"),j=Object(s.a)(b,2),m=j[0],f=j[1];return Object(l.jsxs)(i.Application,{className:"app",style:{background:m},theme:g[a],children:[Object(l.jsx)(i.CheckboxToggle,{style:{position:"absolute",top:20,right:100},label:"Switch Theme",value:u,onChange:function(){"dark"===a?(c("light"),d(!1),f("white")):(c("dark"),d(!0),f("#212121"))}}),Object(l.jsx)(v,{})]})};r.a.render(Object(l.jsx)(w,{}),document.getElementById("root"))},245:function(e,t){},341:function(e,t,a){},809:function(e,t){},810:function(e,t){}},[[1962,1,2]]]);
//# sourceMappingURL=main.490c3cf9.chunk.js.map